---
// Redirect old-style pagination URLs to new query parameter format
export const prerender = false;

const page = Astro.params.page;
const searchParams = Astro.url.searchParams;

// Build the new URL with query parameters
const params = new URLSearchParams(searchParams);
if (page && page !== '1') {
  params.set('page', page);
}

const newUrl = params.toString()
  ? `/meet-companies?${params.toString()}`
  : '/meet-companies';

return Astro.redirect(newUrl, 301);
---
